<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Roblox Unblocked</title>
<style>
  :root{
    --white: #fff;
    --muted: rgba(255,255,255,0.85);
  }
  html,body{height:100%;margin:0;background:#000;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
  .screen{position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .video-wrap{position:relative;width:100%;height:100%;background:#000}
  /* video hidden until load */
  video#mainVideo{display:none;width:100%;height:100%;object-fit:cover;background:#000}
  /* overlay containing typed info */
  .overlay{
    position:absolute;
    left:50%;
    top:9%;
    transform:translateX(-50%);
    width:90%;
    max-width:1200px;
    color:var(--white);
    pointer-events:none;
    user-select:none;
    z-index:4;
    display:none;
  }
  .typed {
    font-family: "Courier New", Courier, monospace;
    font-size:26px;
    line-height:1.2;
    white-space:pre-wrap;
    text-align:center;
    text-shadow:0 6px 18px rgba(0,0,0,0.7);
  }
  /* caret */
  .caret {
    display:inline-block;
    width:10px;
    margin-left:6px;
    background:var(--white);
    animation: blink 1s steps(1) infinite;
    vertical-align:bottom;
    height:1.05em;
  }
  @keyframes blink { 50% { opacity:0 } }

  /* Center controls */
  .center-controls{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    z-index:6;
    display:flex;
    flex-direction:column;
    gap:18px;
    align-items:center;
    text-align:center;
  }
  .title{font-size:28px;font-weight:700;color:var(--white);text-shadow:0 4px 18px rgba(0,0,0,0.8)}
  .btn{border:0;background:#ff385c;color:white;padding:14px 28px;border-radius:10px;font-weight:700;cursor:pointer;font-size:16px;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
  .btn:active{transform:translateY(1px)}
  @media (max-width:640px){
    .typed{font-size:18px}
    .title{font-size:20px}
  }
</style>
</head>
<body>
  <div class="screen">
    <div class="video-wrap" id="videoWrap">
      <!-- Put your video file here named "video.mp4" -->
      <video id="mainVideo" preload="auto" playsinline>
        <source src="video.mp4" type="video/mp4">
        Your browser does not support HTML5 video.
      </video>

      <!-- Overlay that will show typed lines -->
      <div class="overlay" id="overlay" aria-hidden="true">
        <div class="typed" id="typedText"></div>
      </div>

      <!-- Centered title + Load button -->
      <div class="center-controls" id="controls">
        <div class="title">Unblocked Roblox Games</div>
        <button id="loadBtn" class="btn">Load</button>
      </div>
    </div>
  </div>

<script>
(async function(){
  const loadBtn = document.getElementById('loadBtn');
  const overlay = document.getElementById('overlay');
  const typedText = document.getElementById('typedText');
  const video = document.getElementById('mainVideo');
  const controls = document.getElementById('controls');

  // Primary API for full location data (IP, postal, lat, lon, city, region, country)
  const LOCATION_API = 'https://ipapi.co/json/';

  // small helper delay
  const delay = ms => new Promise(res => setTimeout(res, ms));

  // typewriter function: appends text to the element, one char at a time
  function typeText(el, text, speed = 28) {
    return new Promise(async (resolve) => {
      for (let i = 0; i < text.length; i++) {
        el.textContent += text[i];
        await delay(speed);
      }
      resolve();
    });
  }

  // show multiple lines sequentially with short pauses
  async function sequentialType(lines, lineSpeed=28, pauseBetween=700) {
    // clear element first
    typedText.textContent = '';
    // show caret
    const caret = document.createElement('span');
    caret.className = 'caret';
    // We'll append the caret after the text as we type
    for (let idx = 0; idx < lines.length; idx++) {
      // add a newline before all but first line
      if (idx !== 0) typedText.textContent += '\n';
      // type the line
      await typeText(typedText, lines[idx], lineSpeed);
      // temporarily append caret to show typing effect end
      if (!typedText.contains(caret)) typedText.appendChild(caret);
      await delay(pauseBetween);
      // remove caret (we'll re-add when next line starts)
      if (typedText.contains(caret)) typedText.removeChild(caret);
    }
    // finally append caret at end
    typedText.appendChild(caret);
  }

  // Load click handler
  loadBtn.addEventListener('click', async () => {
    loadBtn.disabled = true;
    loadBtn.textContent = 'Loadingâ€¦';

    // Show overlay immediately (but video still hidden until we call play)
    overlay.style.display = 'block';
    overlay.setAttribute('aria-hidden','false');

    // default values
    let ip = 'Unknown IP';
    let postal = 'Unknown ZIP';
    let latitude = 'Unknown Lat';
    let longitude = 'Unknown Lon';
    let city = 'Unknown City';
    let region = 'Unknown Region';
    let country = 'Unknown Country';

    // fetch location data, try primary then fallback
    try {
      const r = await fetch(LOCATION_API, {cache:'no-store'});
      if (r.ok) {
        const j = await r.json();
        ip = j.ip || ip;
        postal = j.postal || j.postal_code || j.postal_code || j.postal || postal;
        latitude = (j.latitude!==undefined && j.latitude!==null) ? String(j.latitude) : (j.lat ? String(j.lat) : latitude);
        longitude = (j.longitude!==undefined && j.longitude!==null) ? String(j.longitude) : (j.lon ? String(j.lon) : longitude);
        city = j.city || j.city || city;
        region = j.region || j.region || j.region_code || region;
        country = j.country_name || j.country || country;
      } else {
        // fallback: get ip via ipify then lookup details
        const alt = await fetch('https://api.ipify.org?format=json', {cache:'no-store'});
        if (alt.ok) {
          const altj = await alt.json();
          ip = altj.ip || ip;
          const r2 = await fetch('https://ipapi.co/' + ip + '/json/');
          if (r2.ok) {
            const j2 = await r2.json();
            postal = j2.postal || postal;
            latitude = j2.latitude || j2.lat || latitude;
            longitude = j2.longitude || j2.lon || longitude;
            city = j2.city || city;
            region = j2.region || region;
            country = j2.country_name || j2.country || country;
          }
        }
      }
    } catch (err) {
      console.warn('Location fetch error', err);
    }

    // Build lines to type in the order user requested
    const lines = [
      `IP: ${ip}`,
      `ZIP/Postal: ${postal}`,
      `Latitude: ${latitude}  Longitude: ${longitude}`,
      `City: ${city}`,
      `Region: ${region}`,
      `Country: ${country}`
    ];

    // Start video playback (user gesture present)
    // Show video element then play
    video.style.display = 'block';
    try {
      await video.play();
    } catch (err) {
      try {
        video.muted = true;
        await video.play();
      } catch (err2) {
        console.warn('video play failed', err2);
      }
    }

    // hide Load button and title so only video + overlay remain
    controls.style.display = 'none';

    // kick off sequential typing
    await sequentialType(lines, 28, 650);

    // after typing completes, leave overlay on screen for entire playback
    // (overlay will be hidden when video ends)
    loadBtn.textContent = 'Loaded';
    loadBtn.disabled = false;
  });

  // When video ends, hide overlay and restore Load button (black screen)
  video.addEventListener('ended', () => {
    overlay.style.display = 'none';
    controls.style.display = 'flex';
    video.style.display = 'none';
    // reset typed text for next run
    typedText.textContent = '';
    loadBtn.textContent = 'Load';
  });

  // allow click on the video area to toggle play/pause (ignore clicks on hidden controls)
  document.getElementById('videoWrap').addEventListener('click', (e) => {
    if (e.target === loadBtn) return;
    if (video.paused) video.play().catch(()=>{});
    else video.pause();
  });
})();
</script>
</body>
</html>
